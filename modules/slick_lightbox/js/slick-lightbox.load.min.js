!function(i,l,a){"use strict";function t(t,e){function s(a){function t(){m.removeClass("is-paused"),m.find(".is-playing").length&&m.find(".is-playing").removeClass("is-playing").find(".media__icon--close").click(),m.find("video").length&&m.find("video")[0].pause()}function e(){m.addClass("is-paused").slick("slickPause")}function s(a,t){if(n=i(t),k=i(b[a]),h=i(".media--player",k),g=i("video",k),c=n.data("media"))if(k.addClass("slick-slide--"+c.type),"rich"===c.type&&n.data("bRich")&&!g.length){try{r=JSON.parse(n.data("bRich")),k.find(".slick-lightbox-slick-img").replaceWith(r)}catch(i){}l.attachBehaviors(g[0])}else n.data("boxUrl")&&!h.length&&(r=l.theme("slickLightboxMedia",{el:n}),k.find(".slick-lightbox-slick-img").replaceWith(r),l.attachBehaviors(h[0]))}var c,n,r,h,g,k,m=i(".slick-lightbox-slick",a),b=m.children();if(!m.hasClass("slick-initialized")&&(i(d).each(s),m.slick(o),m.on("afterChange.slbox",t),m.on("click.slbox",".media__icon--close",t),m.on("click.slbox",".media__icon--play",e),1===b.length)){var x=m.slick("getSlick");m.addClass("slight-lightbox-slick--unslick"),x.$slideTrack.css({left:"",transform:""})}}var c=a.slickLightbox.lightbox||{},o=a.slickLightbox.slick||{},n="[data-slick-lightbox-trigger], .slick-lightbox-trigger",d=i(n,e);i(e).on("click.slbox",n,function(){var l=i(this),a=l.data("delta");l.closest(".view").length&&l.closest(".grid").length&&(a=l.closest(".grid").index()),o.initialSlide=a});var r={closeOnBackdropClick:!1,itemSelector:n,caption:function(l,a){var t=i(l).next(".litebox-caption");return t.length?t.html():""},src:function(l){var a=i(l);return a.data("boxUrl")||a.attr("href")},slick:s},h={"show.slickLightbox":function(){i(".slick-slide--video .slick-lightbox-slick-item-inner").removeAttr("style"),i(e.slickLightbox.$modalElement).on("click.slbox",".slick-lightbox-slick-item",function(l){l.target===this&&i(".slick-lightbox-close").click()})}},g=c?i.extend({},r,c):r;i(e).slickLightbox(g).on(h),i(e).addClass("slick-lightbox-gallery--on")}l.theme.slickLightboxMedia=function(a){var t,e=a.el,s=e.data("media"),c=i("img",e).length?i("img",e).attr("alt"):"",o=Math.round(s.height/s.width*100,2),n=e.data("boxUrl"),d=e.data("oembedUrl")?e.data("oembedUrl"):e.attr("href");return t='<div class="media-wrapper media-wrapper--inline" style="width:'+s.width+'px">',t+='<div class="media media--switch media--player media--ratio media--ratio--fluid" style="padding-bottom: '+o+'%">',t+='<img src="'+n+'" class="media__image media__element" alt="'+l.t(c)+'"/>',t+='<span class="media__icon media__icon--close"></span>',t+='<span class="media__icon media__icon--play" data-url="'+d+'"></span>',t+="</div></div>"},l.behaviors.slickLightbox={attach:function(l){i("[data-slick-lightbox-gallery], .slick-lightbox-gallery:not(.slick-lightbox-gallery [data-slick-lightbox-gallery])",l).once("slick-lightbox-gallery").each(t)}}}(jQuery,Drupal,drupalSettings);
